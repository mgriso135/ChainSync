{"ast":null,"code":"var _jsxFileName = \"/home/matteo/SupplyChainTracking/client/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport Web3 from 'web3';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [account, setAccount] = useState('');\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [contract, setContract] = useState(null);\n  useEffect(() => {\n    const connectWallet = async () => {\n      if (window.ethereum) {\n        const accounts = await window.ethereum.request({\n          method: 'eth_requestAccounts'\n        });\n        setAccount(accounts[0]);\n      }\n    };\n    connectWallet();\n  }, []);\n  useEffect(() => {\n    const fetchContractData = async () => {\n      try {\n        // ... (your contract data fetching logic)\n        setContract(contractInstance);\n      } catch (error) {\n        console.error('Error fetching contract data:', error);\n      }\n    };\n    fetchContractData();\n  }, []);\n  const getProducts = async () => {\n    setLoading(true);\n    try {\n      const productCount = await contract.methods.productCount().call();\n      const products = [];\n      for (let i = 0; i < productCount; i++) {\n        const product = await contract.methods.products(i).call();\n        products.push(product);\n      }\n      setProducts(products);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setLoading(false);\n    }\n  };\n  const addProduct = async productData => {\n    // ... (your add product logic)\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Supply Chain Tracker\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Account: \", account]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: getProducts,\n      disabled: loading,\n      children: loading ? 'Loading...' : 'Get Products'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading products...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: products.map((product, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n        children: product.name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }, this) // Replace with actual product display\n      )\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 68,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dvS04MdwcZxo8hxvdhZ+kvvcJqw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","Web3","jsxDEV","_jsxDEV","App","_s","account","setAccount","products","setProducts","loading","setLoading","contract","setContract","connectWallet","window","ethereum","accounts","request","method","fetchContractData","contractInstance","error","console","getProducts","productCount","methods","call","i","product","push","addProduct","productData","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","disabled","map","index","name","_c","$RefreshReg$"],"sources":["/home/matteo/SupplyChainTracking/client/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport Web3 from 'web3';\n\nfunction App() {\n  const [account, setAccount] = useState('');\n  const [products, setProducts] = useState([]);\n  const [loading, setLoading] = useState(false);\n  const [contract, setContract] = useState(null);\n\n  useEffect(() => {\n    const connectWallet = async () => {\n      if (window.ethereum) {\n        const accounts = await window.ethereum.request({ method: 'eth_requestAccounts' });\n        setAccount(accounts[0]);\n      }\n    };\n\n    connectWallet();\n  }, []);\n\n  useEffect(() => {\n    const fetchContractData = async () => {\n      try {\n        // ... (your contract data fetching logic)\n        setContract(contractInstance);\n      } catch (error) {\n        console.error('Error fetching contract data:', error);\n      }\n    };\n\n    fetchContractData();\n  }, []);\n\n  const getProducts = async () => {\n    setLoading(true);\n    try {\n      const productCount = await contract.methods.productCount().call();\n      const products = [];\n\n      for (let i = 0; i < productCount; i++) {\n        const product = await contract.methods.products(i).call();\n        products.push(product);\n      }\n\n      setProducts(products);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching products:', error);\n      setLoading(false);\n    }\n  };\n\n  const addProduct = async (productData) => {\n    // ... (your add product logic)\n  };\n\n  return (\n    <div>\n      <h1>Supply Chain Tracker</h1>\n      <p>Account: {account}</p>\n      <button onClick={getProducts} disabled={loading}>\n        {loading ? 'Loading...' : 'Get Products'}\n      </button>\n      {/* Add form or other elements for adding products */}\n      {loading ? (\n        <p>Loading products...</p>\n      ) : (\n        <ul>\n          {products.map((product, index) => (\n            <li key={index}>{product.name}</li> // Replace with actual product display\n          ))}\n        </ul>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,OAAOC,IAAI,MAAM,MAAM;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAExB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGR,QAAQ,CAAC,EAAE,CAAC;EAC1C,MAAM,CAACS,QAAQ,EAAEC,WAAW,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACa,QAAQ,EAAEC,WAAW,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EAE9CC,SAAS,CAAC,MAAM;IACd,MAAMc,aAAa,GAAG,MAAAA,CAAA,KAAY;MAChC,IAAIC,MAAM,CAACC,QAAQ,EAAE;QACnB,MAAMC,QAAQ,GAAG,MAAMF,MAAM,CAACC,QAAQ,CAACE,OAAO,CAAC;UAAEC,MAAM,EAAE;QAAsB,CAAC,CAAC;QACjFZ,UAAU,CAACU,QAAQ,CAAC,CAAC,CAAC,CAAC;MACzB;IACF,CAAC;IAEDH,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAENd,SAAS,CAAC,MAAM;IACd,MAAMoB,iBAAiB,GAAG,MAAAA,CAAA,KAAY;MACpC,IAAI;QACF;QACAP,WAAW,CAACQ,gBAAgB,CAAC;MAC/B,CAAC,CAAC,OAAOC,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACvD;IACF,CAAC;IAEDF,iBAAiB,CAAC,CAAC;EACrB,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMI,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9Bb,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACF,MAAMc,YAAY,GAAG,MAAMb,QAAQ,CAACc,OAAO,CAACD,YAAY,CAAC,CAAC,CAACE,IAAI,CAAC,CAAC;MACjE,MAAMnB,QAAQ,GAAG,EAAE;MAEnB,KAAK,IAAIoB,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGH,YAAY,EAAEG,CAAC,EAAE,EAAE;QACrC,MAAMC,OAAO,GAAG,MAAMjB,QAAQ,CAACc,OAAO,CAAClB,QAAQ,CAACoB,CAAC,CAAC,CAACD,IAAI,CAAC,CAAC;QACzDnB,QAAQ,CAACsB,IAAI,CAACD,OAAO,CAAC;MACxB;MAEApB,WAAW,CAACD,QAAQ,CAAC;MACrBG,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,OAAOW,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,0BAA0B,EAAEA,KAAK,CAAC;MAChDX,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,MAAMoB,UAAU,GAAG,MAAOC,WAAW,IAAK;IACxC;EAAA,CACD;EAED,oBACE7B,OAAA;IAAA8B,QAAA,gBACE9B,OAAA;MAAA8B,QAAA,EAAI;IAAoB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7BlC,OAAA;MAAA8B,QAAA,GAAG,WAAS,EAAC3B,OAAO;IAAA;MAAA4B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACzBlC,OAAA;MAAQmC,OAAO,EAAEd,WAAY;MAACe,QAAQ,EAAE7B,OAAQ;MAAAuB,QAAA,EAC7CvB,OAAO,GAAG,YAAY,GAAG;IAAc;MAAAwB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAClC,CAAC,EAER3B,OAAO,gBACNP,OAAA;MAAA8B,QAAA,EAAG;IAAmB;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAG,CAAC,gBAE1BlC,OAAA;MAAA8B,QAAA,EACGzB,QAAQ,CAACgC,GAAG,CAAC,CAACX,OAAO,EAAEY,KAAK,kBAC3BtC,OAAA;QAAA8B,QAAA,EAAiBJ,OAAO,CAACa;MAAI,GAApBD,KAAK;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAoB,CAAC,CAAC;MACrC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CACL;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACE,CAAC;AAEV;AAAChC,EAAA,CAxEQD,GAAG;AAAAuC,EAAA,GAAHvC,GAAG;AA0EZ,eAAeA,GAAG;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}